"use strict";var track="Software Engineer",availableCompanyCharts=["Facebook","Google","Microsoft","Amazon","Apple","Yahoo","Uber","Lyft","Airbnb","Stripe","Square","DoorDash","Snap","Comcast","Adobe","Nextdoor","Spotify","Twitter","Tesla","Groupon","SAP","Indeed","Symantec","NetApp","Dropbox","Zillow","Pinterest","PayPal","Yelp","Intel","IBM","Salesforce","Cisco","Workday","LinkedIn","eBay","Oracle","Intuit","Qualcomm","VMware"],fallBackCompanyInformation={color:[178,190,181]};function setupEventListeners(){$("#company-selector").on("change",function(e){fetchAndRenderCompanyStatsData($("#company-selector").val())})}function fetchAndRenderCompanyStatsData(e){$.ajax({type:"GET",dataType:"json",url:"https://api.levels.fyi/v1/stats/salariesByTitle?company="+encodeURIComponent(e)+"&title="+encodeURIComponent(track),success:function(a){renderCharts(ResponseUtil().parse(a),e)},error:function(a){renderCharts([],e)}})}function renderCharts(e,a){0!==e.length&&$.ajax({type:"GET",dataType:"json",url:"https://api.levels.fyi/v1/company/"+encodeURIComponent(a),success:function(t){generateLevelRangeChart(e,a,ResponseUtil().parse(t)),$(".placeholder-loading").hide()},error:function(t){generateLevelRangeChart(e,a,fallBackCompanyInformation),$(".placeholder-loading").hide()}})}function generateLevelRangeChart(e,a,t){var n=getCompanyId(a);$(".charts-container").empty(),$(".charts-container").append('\n        <div class="company-level-range-chart-canvas-container-preview'+($(".company-profile-charts").length>0?"-company-profile":"")+' col-sm-12" style="height: 275px; margin-top: 30px; margin-bottom: 55px; position: relative;">\n            <canvas id="levelRangeChart'+n+'"></canvas>\n        </div>\n    ');var r=$("#levelRangeChart"+n),o=e.map(function(e){return{name:e.level,salaries:e.samples}}),l={responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{callback:function(e,a,t){return a>o.length||0===a?"":o[o.length-a].name.replace("Software Engineer","SE")},beginAtZero:!0,max:o.length+1,stepSize:1}}],xAxes:[{ticks:{callback:function(e){return e>=1e3?"$"+e/1e3+"M":"$"+e+"K"}},gridLines:{borderDash:[6,6],display:!0}}]},tooltips:{callbacks:{label:function(e){var a=o[e.datasetIndex].salaries[e.index],t="Location: "+a.location,n=a.total_yearly_comp;a.total_yearly_comp<=5e3&&(n=1e3*a.total_yearly_comp);var r="Total: $"+n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),l=a.base_salary_per_year;a.base_salary_per_year<=5e3&&(l=1e3*a.base_salary_per_year);var s="Base: $"+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),i=a.stock_grant_per_year;a.stock_grant_per_year<=5e3&&(i=1e3*a.stock_grant_per_year);var c="Stock: $"+i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),p=a.bonus_per_year;return a.bonus_per_year<=5e3&&(p=1e3*a.bonus_per_year),[t,r,s,c,"Bonus: $"+p.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"Years at Company: "+a.years_at_company,"Years of Experience: "+a.years_of_experience,"Date Submitted: "+new Date(a.timestamp).toLocaleDateString()]},title:function(e,a){if(e.length>0){var t=a.datasets[e[0].datasetIndex].label,n=o[e[0].datasetIndex].salaries[e[0].index];return n.tag?t+" - "+n.tag:t}return""}},backgroundColor:"#FFF",titleFontSize:16,titleFontColor:"#0066ff",bodyFontColor:"#000",bodyFontSize:14,displayColors:!1},legend:{reverse:!0,display:!1},animation:!1},s=["Snap","Symantec","eBay"].indexOf(a)>-1?.7:.4;new Chart(r,{type:"scatter",data:{datasets:o.reverse().map(function(e,a){return{label:e.name.replace("Software Engineer","SE"),data:e.salaries.map(function(e){var t=e.total_yearly_comp;return t>5e3&&(t/=1e3),{x:parseInt(t),y:a+1}}),borderColor:"#a6a2ef",borderCapStyle:"round",backgroundColor:"rgba("+t.color+", "+s+")",pointBackgroundColor:"rgba("+t.color+", "+s+")",pointBorderColor:"rgba("+t.color+", 0)",pointBorderWidth:0,pointRadius:5,pointHoverRadius:7,pointHitRadius:7,borderWidth:2,showLine:!0,fill:!1}})},options:l})}$(function(){Chart.defaults.global.defaultFontFamily="'Nunito', sans-serif";var e=getQueryStringMap(),a=e.company||$(".company-name").val();$("#company-selector").val(a),e.hide_selector&&"false"!==e.hide_selector&&$("#company-selector").hide(),fetchAndRenderCompanyStatsData(a),setupEventListeners()});var getCompanyId=function(e){return encodeNameForUrl(e.toLowerCase())};